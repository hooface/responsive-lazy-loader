{"name":"Responsive-lazy-loader","tagline":"A responsive lazy loader. Load image rendition according to CSS display & breakpoint.","body":"responsive-lazy-loader\r\n======================\r\n\r\nA responsive lazy loader. Load image rendition according to CSS display &amp; breakpoint.\r\n\r\n##Main fraime\r\n\r\nResponsive lazy loader allow you lo load the most apropriate image renditions according to the current breakpoint and to the curent display into the CSS grid-system.\r\n\r\nIt could be used as a simple lazy loader as well a juste responsive layloader (taking care of the breakpoint) or as advance lazyloader taking care of breakpoint and display.\r\n\r\n###How it works\r\n\r\nThe lazy loader recognize the current display (size in a grid system as an exemple) and breakpoint (mediaquery) and replace a token in the image URL.\r\n\r\nIt works with any HTML/CSS strucutre/framwork as bootstrap or fundation and any image provider as Flickr or CMS using image preset (, rendition, styles, ...) as Adobe CQ or Drupal.\r\n\r\nThe plugin is only 3Ko (minified).\r\n        \t\t\r\n##How to use\r\n\r\n###HTML\r\n\r\nReplace you img tags by th following one :\r\n\r\n```html\r\n<img class=\"img-responsive\" data-src=\"http://www.domain.tld/img-[[display]].jpg\" src=\"js/pixel.gif\" alt=\"image\">\r\n<noscript><img class=\"image-asset\" src=\"http://www.domain.tld/img-defaults.jpg\" alt=\"image\"></noscript>\r\n```\r\n\r\n###CSS\r\n\r\nThe image size must be 100% for the image to be \"responsive\" it means that the image will be adjusted to the parent element. You must steup your breakpoint to never upscale an image and load the smallest image just bigger than the maximum display width.\r\n\r\nAs an exemple if your site is 1200px on desktop you have to load an image as close as possible as 1200px but on a phone, if you max-width is 320 pixels, you have to load a smaller image as close as possible as 320 but not smallest.</p>\r\n\r\nFor a nice display, you need to use a \"loader\" background for the images and/or an outline.\r\nIt could be something like :\r\n\r\n```css\r\n.img-responsive{\r\n\twidth:100%;\r\n\toutline:#aaa;\r\n\tbackground:#ccc url(../img/loader.gif) center center no-repeat;\r\n}\r\n```\r\n\r\nAdd the noscript fallback :\r\n\r\n```html\r\n<noscript><style type=\"text/css\" media=\"all\">img[data-src] { display: none; }</style></noscript>\r\n```\r\n\r\nAlways use the \"desktop\" as default values because almost all the modern devices browser support mediaqueries detections. This is not the case of old desktop browsers as old IE so the current mediaquery will always be the \"defaults\" one. Even on old browser the display will be recognized and the appropriate image will be loaded anyway.\r\n\r\n###Tip\r\n\r\nThe height auto is not displayed the same way on all the browsers.\r\nTo prevent the image height to update on image load (text moving effect in some browsers), the image heights has to be managed in CSS according to the site layout.\r\n\r\nIf all the images do not necessary have the same ratio (as 16/9 or 4/3). You can use the onImageShow callback function for custom actions.\r\n\r\n##How to configure\r\n\r\nYou can add arguments on the function call or owerride the defaults.\r\n\r\n```javascript\r\n$(\"img[data-src]\").responsivelazyloader({\r\n\tmediaQueries : {  // The mediaqueries used by the lazyloder.\r\n\t  'phone'   : \"(max-width: 767px)\",\r\n\t  'tablet'  : \"(min-width: 768px) and (max-width: 991px)\",\r\n\t  'desktop' : \"(min-width: 992px)\"\r\n\t},\r\n\tdisplays : {  // The displays to combine grid system & mediaqueries\r\n\t\t'defaults' : {\r\n\t\t\t'display' : {\r\n\t\t\t\t'desktop'  : 'b',\t//1024\r\n\t\t\t\t'tablet'   : 'z',\t//640\r\n\t\t\t\t'phone'    : 'm',\t//320\r\n\t\t\t\t'defaults' : 'b'\t//1024\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n```\r\n\r\nOr\r\n\r\n```javascript\r\n// Owerrde defaults\r\n$.fn.responsivelazyloader.defaults.mediaQueries = {  // The mediaqueries used by the lazyloder.\r\n\t\t'phone'    : \"(max-width: 767px)\",\r\n\t\t'tablet'   : \"(min-width: 768px) and (max-width: 991px)\",\r\n\t\t'desktop'  : \"(min-width: 992px)\"\r\n\t};\r\n$.fn.responsivelazyloader.defaults.displays = {\t// The displays to combine grid system & mediaqueries\r\n\t\t'defaults' : {\r\n\t\t\t'display' : {\r\n\t\t\t\t'desktop'  : 'b',\t//1024\r\n\t\t\t\t'tablet'   : 'z',\t//640\r\n\t\t\t\t'phone'    : 'm',\t//320\r\n\t\t\t\t'defaults' : 'b'\t//1024\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n$(\"img[data-src]\").responsivelazyloader();\r\n```\r\n\r\n##AJAX\r\n\r\nThe lazyloader can be used with AJAX.\r\n\r\n```javascript\r\n// Init lazyloader\r\n$(\"img[data-src]\").responsivelazyloader();\r\n// Init lazyloder after ajax events.\r\n$(\"body\").on({ ajaxStop : function(){ $(\"img[data-src]\").responsivelazyloader(); }});\r\n```\r\n\r\n##Settings\r\n\r\nAll available settings :\r\n\r\n1. distance        = Int      | distance of the image to the viewable browser screen before it gets loaded</li>\r\n2. token           = string   | The token replaced by the current display pattern.</li>\r\n3. force           = Bool     | Force loading without distance.</li>\r\n4. mediaQueries    = Object   | The mediaquery used by the lazy loader.</li>\r\n5. displays        = Object   | The display properties, match the grid class and the mediaqueries</li>\r\n6. onImageShow     = function | Callback when an image has been lazy loaded.</li>\r\n7. onImageError    = function | Callback when an image could not be lazy loaded.</li>\r\n8. onAllImagesLoad = function | Callback when all the images of the set are loaded.</li>\r\n\r\nCustom events :\r\n\r\n1. responsiveImageLoaded -> Trigger on each image load. Custom var :\r\n\t\t- image : The currently loaded image.\r\n2. onMediaqueryChange -> Trigger when mediaquery has change. Custom var :\r\n\t\t- CurrentMediaQuery : the current mediaquery key according to Settings.mediaQueries.\r\n\t\t- PreviousMediaQuery : The previous mediaquery key according to Settings.mediaQueries.\r\n\r\n##Debug\r\n\r\nTo help you setup the lazyloader, you can use the following code :\r\n\r\n```javascript\r\n$(window).on('responsiveImageLoaded', function(event){\r\n\t$image = $(event.image[0]);\r\n\t$image.next().remove();\r\n\t$image.after(\r\n\t\t\"<p>Current mediaquerry : \" + $image.attr(\"data-current-mediaq\")\r\n\t\t+ \"<br />Current display : \" + $image.attr(\"data-display\") + \"</p>\"\r\n\t);\r\n});\r\n```\r\n\r\n##More\r\n\r\nSee the responsive lazy loader page on jQuery : http://plugins.jquery.com/responsivelazyloader\r\n\r\nYou can also use Responsive Lazy Loader on Drupal using our Drupal Module : https://drupal.org/sandbox/jetmartin/2158105\r\n\r\nFor more information please contact me @j_et_martin.\r\n\r\nThis module was originaly supported by Valtech : http://www.valtech.fr","google":"UA-46561768-1","note":"Don't delete this file! It's used internally to help with page regeneration."}